import{StateReceiverMixin}from"@theoplayer/web-ui";const template=document.createElement("template");template.innerHTML="\n<style>\n:host {\n    color: var(--theoplayer-text-color, #fff);\n    background: var(--theoplayer-control-background, transparent);\n    padding: var(--theoplayer-control-padding, 10px);\n}\n</style>\n<span></span>\n";export class MyQualityLabel extends(StateReceiverMixin(HTMLElement,["player"])){constructor(){super();const e=this.attachShadow({mode:"open"});e.appendChild(template.content.cloneNode(!0)),this._labelSpan=e.querySelector("span"),this._labelSpan.textContent=""}get player(){return this._player}set player(e){this._player&&(this._player.videoTracks.removeEventListener("addtrack",this.handleAddTrack),this.updateActiveTrack(void 0)),this._player=e,this._player&&(this._player.videoTracks.addEventListener("addtrack",this.handleAddTrack),this._player.videoTracks.length>0&&this.updateActiveTrack(this._player.videoTracks[0]))}handleAddTrack=e=>{this.updateActiveTrack(e.track)};updateActiveTrack(e){this._activeVideoTrack&&this._activeVideoTrack.removeEventListener("activequalitychanged",this.handleActiveQualityChanged),this._activeVideoTrack=e,this._activeVideoTrack&&(this._activeVideoTrack.addEventListener("activequalitychanged",this.handleActiveQualityChanged),this._activeVideoTrack.activeQuality&&this.updateActiveTrack(this._activeVideoTrack.activeQuality))}handleActiveQualityChanged=e=>{this.updateActiveQuality(e.quality)};updateActiveQuality(e){this._labelSpan.textContent=e?`${e.height}p`:""}}customElements.define("my-quality-label",MyQualityLabel);