const constants={noResult:{l:"No results found",renderable:"No results found"},labels:{modules:"Modules",packages:"Packages",types:"Types",members:"Members",tags:"SearchTags"}};if(void 0===moduleSearchIndex)var moduleSearchIndex;if(void 0===packageSearchIndex)var packageSearchIndex;if(void 0===typeSearchIndex)var typeSearchIndex;if(void 0===memberSearchIndex)var memberSearchIndex;if(void 0===tagSearchIndex)var tagSearchIndex;const clearElementValue=e=>{e.val("")};$((function(){const e=$("#search"),a=$("#reset");clearElementValue(e),a.on("click",(()=>{clearElementValue(e),e.focus()}))}));const itemHasResults=e=>e.l!==constants.noResult;$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super()},_renderMenu:function(e,a){const t=this;let r;$.each(a,((a,l)=>{itemHasResults(l)&&l.category!==r&&(e.append(`<li class="ui-autocomplete-category">${l.category}</li>`),r=l.category);const n=t._renderItemData(e,l);l.category?n.attr("aria-label",`${l.category} : ${l.l}`):n.attr("aria-label",l.l),n.attr("class","resultItem")}))},_renderItem:(e,a)=>{const t=$("<li/>").appendTo(e);return $("<div/>").appendTo(t).html(a.renderable),t}});const highlight=e=>'<span class="resultHighlight">'+e+"</span>",escapeHtml=e=>e.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;"),labelForPackage=e=>e.m?e.m+"/"+e.l:e.l,labelForNested=e=>{var a="";return e.p&&(a+=`${e.p}.`),e.l!==e.c&&e.c&&(a+=`${e.c}.`),a+e.l},nestedName=e=>e.l.substring(e.l.lastIndexOf(".")+1),renderableFromLabel=(e,a)=>escapeHtml(e).replace(a,highlight);$((()=>{$("#search").catcomplete({minLength:1,delay:100,source:function(e,a){const t=$.ui.autocomplete.escapeRegex(e.term)+"$",r=new RegExp("^"+t,"i"),l=$.ui.autocomplete.escapeRegex(e.term).split(/(?=[A-Z])/).join("([a-z0-9_$]*?)"),n=new RegExp("^"+l),s=new RegExp($.ui.autocomplete.escapeRegex(e.term),"i"),c=(e,a)=>{const t=[],l=[];return e.map((e=>(e.category=a,e))).forEach((e=>{r.test(e.l)?(e.renderable=renderableFromLabel(e.l,r),t.push(e)):n.test(e.l)?(e.renderable=renderableFromLabel(e.l,n),t.push(e)):s.test(e.l)&&(e.renderable=renderableFromLabel(e.l,s),l.push(e))})),[...t,...l]},o=(e,a)=>{const c=[],o=[];return e.map((e=>(e.category=a,e))).forEach((e=>{const a=nestedName(e);r.test(a)?(e.renderable=renderableFromLabel(labelForNested(e),new RegExp(t,"i")),c.push(e)):n.test(a)?(e.renderable=renderableFromLabel(labelForNested(e),new RegExp(l)),c.push(e)):s.test(labelForNested(e))&&(e.renderable=renderableFromLabel(labelForNested(e),s),o.push(e))})),[...c,...o]};return a([...moduleSearchIndex?c(moduleSearchIndex,constants.labels.modules):[],...packageSearchIndex?(e=>{const a=[],t=[];return e.map((e=>(e.category=constants.labels.packages,e))).forEach((e=>{const l=labelForPackage(e);r.test(e.l)?(e.renderable=renderableFromLabel(e.l,r),a.push(e)):n.test(l)?(e.renderable=renderableFromLabel(l,n),a.push(e)):s.test(l)&&(e.renderable=renderableFromLabel(l,s),t.push(e))})),[...a,...t]})(packageSearchIndex):[],...typeSearchIndex?o(typeSearchIndex,constants.labels.types):[],...memberSearchIndex?o(memberSearchIndex,constants.labels.members):[],...tagSearchIndex?c(tagSearchIndex,constants.labels.tags):[]])},response:function(e,a){a.content.length?$("#search").empty():a.content.push(constants.noResult)},autoFocus:!0,position:{collision:"flip"},select:function(e,a){a.item.l!==constants.noResult.l&&(window.location.href=pathtoroot+a.item.url,$("#search").focus())}})}));