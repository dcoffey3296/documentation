import{useSyncExternalStore}from"react";let source=null,deviceType=null;const listeners=[];function subscribe(e){return listeners.push(e),()=>{const r=listeners.indexOf(e);r>=0&&listeners.splice(r,1)}}window.addEventListener("message",(e=>{if(e.origin!==location.origin)return;const r=e.data;if("object"==typeof r&&null!=r)switch(r.type){case"deviceType":deviceType=r.deviceType,listeners.forEach((e=>e()));break;case"source":source=r.source,listeners.forEach((e=>e()))}}));export function useDeviceTypeFromParent(){return useSyncExternalStore(subscribe,(()=>deviceType),(()=>{}))}export function useSourceFromParent(){return useSyncExternalStore(subscribe,(()=>source),(()=>{}))}